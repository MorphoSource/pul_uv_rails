{"version":3,"sources":["webpack://UV/./node_modules/@universalviewer/aleph/dist/esm-es5/helpers-1644482e.js","webpack://UV/./node_modules/@universalviewer/aleph/dist/esm-es5/ion-header-md.entry.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AAC4L;;;;;;;;;;;;;ACrG5L;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AAC0I;AACvF;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,IAAI,2DAAQ;AACZ;AACA,oBAAoB,8DAAK;AACzB,QAAQ,2DAAS;AACjB;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2DAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,4BAA4B,eAAe;AAC3C,IAAI,2DAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,8BAA8B,eAAe;AAC7C,2BAA2B,WAAW;AACtC,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,QAAQ,2DAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2DAAU;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2DAAQ;AAChC;AACA,yFAAyF,uCAAuC,EAAE;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2DAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,mEAAmE;AAC5I,4GAA4G,iHAAiH;AAC7N;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA,uEAAuE,wDAAwD;AAC/H;AACA,yBAAyB;AACzB,wBAAwB,2DAAS;AACjC;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,mBAAmB,2DAAU;AAC7B;AACA,gBAAgB,2DAAC,CAAC,mDAAI,GAAG,gCAAgC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,0BAA0B,QAAQ,2DAAU,OAAO,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,oBAAoB,cAAc,kBAAkB,kBAAkB,SAAS,WAAW,WAAW,mCAAmC,uCAAuC,iBAAiB,OAAO,YAAY,oCAAoC,kBAAkB,WAAW,WAAW,oCAAoC,qLAAqL,2BAA2B,aAAa,qEAAqE,WAAW,YAAY,QAAQ,qCAAqC,sDAAsD,aAAa,EAAE,EAAE;AAC1wB;AACA;AACA,KAAK;AACL;AACA,CAAC;AAC+B","file":"45.697360e4ac7847e94148.js","sourcesContent":["/**\r\n * Patched version of requestAnimationFrame that avoids ngzone\r\n * Use only when you know ngzone should not run\r\n */\r\nvar raf = function (h) {\r\n    if (typeof __zone_symbol__requestAnimationFrame === 'function') {\r\n        return __zone_symbol__requestAnimationFrame(h);\r\n    }\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        return requestAnimationFrame(h);\r\n    }\r\n    return setTimeout(h);\r\n};\r\nvar hasShadowDom = function (el) {\r\n    return !!el.shadowRoot && !!el.attachShadow;\r\n};\r\nvar findItemLabel = function (componentEl) {\r\n    var itemEl = componentEl.closest('ion-item');\r\n    if (itemEl) {\r\n        return itemEl.querySelector('ion-label');\r\n    }\r\n    return null;\r\n};\r\nvar renderHiddenInput = function (always, container, name, value, disabled) {\r\n    if (always || hasShadowDom(container)) {\r\n        var input = container.querySelector('input.aux-input');\r\n        if (!input) {\r\n            input = container.ownerDocument.createElement('input');\r\n            input.type = 'hidden';\r\n            input.classList.add('aux-input');\r\n            container.appendChild(input);\r\n        }\r\n        input.disabled = disabled;\r\n        input.name = name;\r\n        input.value = value || '';\r\n    }\r\n};\r\nvar clamp = function (min, n, max) {\r\n    return Math.max(min, Math.min(n, max));\r\n};\r\nvar assert = function (actual, reason) {\r\n    if (!actual) {\r\n        var message = 'ASSERT: ' + reason;\r\n        console.error(message);\r\n        debugger; // tslint:disable-line\r\n        throw new Error(message);\r\n    }\r\n};\r\nvar now = function (ev) {\r\n    return ev.timeStamp || Date.now();\r\n};\r\nvar pointerCoord = function (ev) {\r\n    // get X coordinates for either a mouse click\r\n    // or a touch depending on the given event\r\n    if (ev) {\r\n        var changedTouches = ev.changedTouches;\r\n        if (changedTouches && changedTouches.length > 0) {\r\n            var touch = changedTouches[0];\r\n            return { x: touch.clientX, y: touch.clientY };\r\n        }\r\n        if (ev.pageX !== undefined) {\r\n            return { x: ev.pageX, y: ev.pageY };\r\n        }\r\n    }\r\n    return { x: 0, y: 0 };\r\n};\r\n/**\r\n * @hidden\r\n * Given a side, return if it should be on the end\r\n * based on the value of dir\r\n * @param side the side\r\n * @param isRTL whether the application dir is rtl\r\n */\r\nvar isEndSide = function (side) {\r\n    var isRTL = document.dir === 'rtl';\r\n    switch (side) {\r\n        case 'start': return isRTL;\r\n        case 'end': return !isRTL;\r\n        default:\r\n            throw new Error(\"\\\"\" + side + \"\\\" is not a valid value for [side]. Use \\\"start\\\" or \\\"end\\\" instead.\");\r\n    }\r\n};\r\nvar debounceEvent = function (event, wait) {\r\n    var original = event._original || event;\r\n    return {\r\n        _original: event,\r\n        emit: debounce(original.emit.bind(original), wait)\r\n    };\r\n};\r\nvar debounce = function (func, wait) {\r\n    if (wait === void 0) { wait = 0; }\r\n    var timer;\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        clearTimeout(timer);\r\n        timer = setTimeout.apply(void 0, [func, wait].concat(args));\r\n    };\r\n};\r\nexport { raf as a, assert as b, clamp as c, debounceEvent as d, debounce as e, findItemLabel as f, hasShadowDom as h, isEndSide as i, now as n, pointerCoord as p, renderHiddenInput as r };\r\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { m as readTask, w as writeTask, r as registerInstance, f as getIonMode, h, d as getElement, H as Host } from './core-684c60cc.js';\r\nimport { c as clamp } from './helpers-1644482e.js';\r\nvar TRANSITION = 'all 0.2s ease-in-out';\r\nvar cloneElement = function (tagName) {\r\n    var getCachedEl = document.querySelector(tagName + \".ion-cloned-element\");\r\n    if (getCachedEl !== null) {\r\n        return getCachedEl;\r\n    }\r\n    var clonedEl = document.createElement(tagName);\r\n    clonedEl.classList.add('ion-cloned-element');\r\n    clonedEl.style.setProperty('display', 'none');\r\n    document.body.appendChild(clonedEl);\r\n    return clonedEl;\r\n};\r\nvar createHeaderIndex = function (headerEl) {\r\n    if (!headerEl) {\r\n        return;\r\n    }\r\n    var toolbars = headerEl.querySelectorAll('ion-toolbar');\r\n    return {\r\n        el: headerEl,\r\n        toolbars: Array.from(toolbars).map(function (toolbar) {\r\n            var ionTitleEl = toolbar.querySelector('ion-title');\r\n            return {\r\n                el: toolbar,\r\n                background: toolbar.shadowRoot.querySelector('.toolbar-background'),\r\n                ionTitleEl: ionTitleEl,\r\n                innerTitleEl: (ionTitleEl) ? ionTitleEl.shadowRoot.querySelector('.toolbar-title') : null,\r\n                ionButtonsEl: Array.from(toolbar.querySelectorAll('ion-buttons')) || []\r\n            };\r\n        }) || [[]]\r\n    };\r\n};\r\nvar handleContentScroll = function (scrollEl, scrollHeaderIndex) {\r\n    readTask(function () {\r\n        var scrollTop = scrollEl.scrollTop;\r\n        var scale = clamp(1, 1 + (-scrollTop / 500), 1.1);\r\n        writeTask(function () {\r\n            scaleLargeTitles(scrollHeaderIndex.toolbars, scale);\r\n        });\r\n    });\r\n};\r\nvar setToolbarBackgroundOpacity = function (toolbar, opacity) {\r\n    if (opacity === undefined) {\r\n        toolbar.background.style.removeProperty('--opacity');\r\n    }\r\n    else {\r\n        toolbar.background.style.setProperty('--opacity', opacity.toString());\r\n    }\r\n};\r\nvar handleToolbarBorderIntersection = function (ev, mainHeaderIndex) {\r\n    if (!ev[0].isIntersecting) {\r\n        return;\r\n    }\r\n    var scale = ((1 - ev[0].intersectionRatio) * 100) / 75;\r\n    setToolbarBackgroundOpacity(mainHeaderIndex.toolbars[0], (scale === 1) ? undefined : scale);\r\n};\r\n/**\r\n * If toolbars are intersecting, hide the scrollable toolbar content\r\n * and show the primary toolbar content. If the toolbars are not intersecting,\r\n * hide the primary toolbar content and show the scrollable toolbar content\r\n */\r\nvar handleToolbarIntersection = function (ev, mainHeaderIndex, scrollHeaderIndex) {\r\n    writeTask(function () {\r\n        handleToolbarBorderIntersection(ev, mainHeaderIndex);\r\n        var event = ev[0];\r\n        var intersection = event.intersectionRect;\r\n        var intersectionArea = intersection.width * intersection.height;\r\n        var rootArea = event.rootBounds.width * event.rootBounds.height;\r\n        var isPageHidden = intersectionArea === 0 && rootArea === 0;\r\n        var leftDiff = Math.abs(intersection.left - event.boundingClientRect.left);\r\n        var rightDiff = Math.abs(intersection.right - event.boundingClientRect.right);\r\n        var isPageTransitioning = intersectionArea > 0 && (leftDiff >= 5 || rightDiff >= 5);\r\n        if (isPageHidden || isPageTransitioning) {\r\n            return;\r\n        }\r\n        if (event.isIntersecting) {\r\n            setHeaderActive(mainHeaderIndex, false);\r\n            setHeaderActive(scrollHeaderIndex);\r\n        }\r\n        else {\r\n            /**\r\n             * There is a bug with IntersectionObserver on Safari\r\n             * where `event.isIntersecting === false` when cancelling\r\n             * a swipe to go back gesture. Checking the intersection\r\n             * x, y, width, and height provides a workaround. This bug\r\n             * does not happen when using Safari + Web Animations,\r\n             * only Safari + CSS Animations.\r\n             */\r\n            var hasValidIntersection = (intersection.x === 0 && intersection.y === 0) || (intersection.width !== 0 && intersection.height !== 0);\r\n            if (hasValidIntersection) {\r\n                setHeaderActive(mainHeaderIndex);\r\n                setHeaderActive(scrollHeaderIndex, false);\r\n                setToolbarBackgroundOpacity(mainHeaderIndex.toolbars[0], 1);\r\n            }\r\n        }\r\n    });\r\n};\r\nvar setHeaderActive = function (headerIndex, active) {\r\n    if (active === void 0) { active = true; }\r\n    writeTask(function () {\r\n        if (active) {\r\n            headerIndex.el.classList.remove('header-collapse-condense-inactive');\r\n        }\r\n        else {\r\n            headerIndex.el.classList.add('header-collapse-condense-inactive');\r\n        }\r\n    });\r\n};\r\nvar scaleLargeTitles = function (toolbars, scale, transition) {\r\n    if (toolbars === void 0) { toolbars = []; }\r\n    if (scale === void 0) { scale = 1; }\r\n    if (transition === void 0) { transition = false; }\r\n    toolbars.forEach(function (toolbar) {\r\n        var ionTitle = toolbar.ionTitleEl;\r\n        var titleDiv = toolbar.innerTitleEl;\r\n        if (!ionTitle || ionTitle.size !== 'large') {\r\n            return;\r\n        }\r\n        titleDiv.style.transformOrigin = 'left center';\r\n        titleDiv.style.transition = (transition) ? TRANSITION : '';\r\n        titleDiv.style.transform = \"scale3d(\" + scale + \", \" + scale + \", 1)\";\r\n    });\r\n};\r\nvar Header = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.collapsibleHeaderInitialized = false;\r\n        /**\r\n         * If `true`, the header will be translucent.\r\n         * Only applies when the mode is `\"ios\"` and the device supports\r\n         * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).\r\n         *\r\n         * Note: In order to scroll content behind the header, the `fullscreen`\r\n         * attribute needs to be set on the content.\r\n         */\r\n        this.translucent = false;\r\n    }\r\n    class_1.prototype.componentDidLoad = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.checkCollapsibleHeader()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.componentDidUpdate = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.checkCollapsibleHeader()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.componentDidUnload = function () {\r\n        this.destroyCollapsibleHeader();\r\n    };\r\n    class_1.prototype.checkCollapsibleHeader = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var hasCollapse, canCollapse, pageEl, contentEl;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        hasCollapse = this.collapse === 'condense';\r\n                        canCollapse = (hasCollapse && getIonMode(this) === 'ios') ? hasCollapse : false;\r\n                        if (!(!canCollapse && this.collapsibleHeaderInitialized)) return [3 /*break*/, 1];\r\n                        this.destroyCollapsibleHeader();\r\n                        return [3 /*break*/, 3];\r\n                    case 1:\r\n                        if (!(canCollapse && !this.collapsibleHeaderInitialized)) return [3 /*break*/, 3];\r\n                        pageEl = this.el.closest('ion-app,ion-page,.ion-page,page-inner');\r\n                        contentEl = (pageEl) ? pageEl.querySelector('ion-content') : null;\r\n                        return [4 /*yield*/, this.setupCollapsibleHeader(contentEl, pageEl)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.destroyCollapsibleHeader = function () {\r\n        if (this.intersectionObserver) {\r\n            this.intersectionObserver.disconnect();\r\n            this.intersectionObserver = undefined;\r\n        }\r\n        if (this.scrollEl && this.contentScrollCallback) {\r\n            this.scrollEl.removeEventListener('scroll', this.contentScrollCallback);\r\n            this.contentScrollCallback = undefined;\r\n        }\r\n    };\r\n    class_1.prototype.setupCollapsibleHeader = function (contentEl, pageEl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            var _this = this;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (!contentEl || !pageEl) {\r\n                            console.error('ion-header requires a content to collapse, make sure there is an ion-content.');\r\n                            return [2 /*return*/];\r\n                        }\r\n                        _a = this;\r\n                        return [4 /*yield*/, contentEl.getScrollElement()];\r\n                    case 1:\r\n                        _a.scrollEl = _b.sent();\r\n                        readTask(function () {\r\n                            var headers = pageEl.querySelectorAll('ion-header');\r\n                            var mainHeader = Array.from(headers).find(function (header) { return header.collapse !== 'condense'; });\r\n                            if (!mainHeader || !_this.scrollEl) {\r\n                                return;\r\n                            }\r\n                            var mainHeaderIndex = createHeaderIndex(mainHeader);\r\n                            var scrollHeaderIndex = createHeaderIndex(_this.el);\r\n                            if (!mainHeaderIndex || !scrollHeaderIndex) {\r\n                                return;\r\n                            }\r\n                            setHeaderActive(mainHeaderIndex, false);\r\n                            readTask(function () {\r\n                                var mainHeaderHeight = mainHeaderIndex.el.clientHeight;\r\n                                /**\r\n                                 * Handle interaction between toolbar collapse and\r\n                                 * showing/hiding content in the primary ion-header\r\n                                 * as well as progressively showing/hiding the main header\r\n                                 * border as the top-most toolbar collapses or expands.\r\n                                 */\r\n                                var toolbarIntersection = function (ev) { handleToolbarIntersection(ev, mainHeaderIndex, scrollHeaderIndex); };\r\n                                _this.intersectionObserver = new IntersectionObserver(toolbarIntersection, { threshold: [0.25, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1], rootMargin: \"-\" + mainHeaderHeight + \"px 0px 0px 0px\" });\r\n                                _this.intersectionObserver.observe(scrollHeaderIndex.toolbars[0].el);\r\n                            });\r\n                            /**\r\n                             * Handle scaling of large iOS titles and\r\n                             * showing/hiding border on last toolbar\r\n                             * in primary header\r\n                             */\r\n                            _this.contentScrollCallback = function () { handleContentScroll(_this.scrollEl, scrollHeaderIndex); };\r\n                            _this.scrollEl.addEventListener('scroll', _this.contentScrollCallback);\r\n                        });\r\n                        writeTask(function () {\r\n                            cloneElement('ion-title');\r\n                            cloneElement('ion-back-button');\r\n                        });\r\n                        this.collapsibleHeaderInitialized = true;\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.render = function () {\r\n        var _a;\r\n        var mode = getIonMode(this);\r\n        var collapse = this.collapse || 'none';\r\n        return (h(Host, { role: \"banner\", class: (_a = {},\r\n                _a[mode] = true,\r\n                // Used internally for styling\r\n                _a[\"header-\" + mode] = true,\r\n                _a[\"header-translucent\"] = this.translucent,\r\n                _a[\"header-collapse-\" + collapse] = true,\r\n                _a[\"header-translucent-\" + mode] = this.translucent,\r\n                _a) }));\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(class_1, \"style\", {\r\n        get: function () { return \"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-child{padding-top:var(--ion-safe-area-top,0)}.header-md:after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:\\\"\\\"}:host-context([dir=rtl]) .header-md:after,[dir=rtl] .header-md:after{left:unset;right:unset;right:0;background-position:right 0 top -2px}.header-collapse-condense,.header-md[no-border]:after{display:none}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nexport { Header as ion_header };\r\n"],"sourceRoot":""}